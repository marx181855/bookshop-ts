(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71e42e9a"],{"00c2":function(e,t,c){},"0d99":function(e,t,c){"use strict";c("00c2")},f4ba:function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),a=Object(n["P"])("data-v-94e78508");Object(n["A"])("data-v-94e78508");var o={class:"category-container"},r={class:"search-bar"},i={id:"mainbox"},u={class:"order-tab"},l={class:"goodslist better-scroll-wrapper"},s={class:"content better-scroll-content"},d={class:"tip-text"},b=Object(n["j"])("p",null,"暂时没有商品哦.......",-1);Object(n["y"])();var g=a((function(e,t,c,g,p,j){var f=Object(n["E"])("van-search"),O=Object(n["E"])("van-tab"),v=Object(n["E"])("van-tabs"),h=Object(n["E"])("van-sidebar-item"),m=Object(n["E"])("van-collapse-item"),y=Object(n["E"])("van-collapse"),T=Object(n["E"])("van-sidebar"),k=Object(n["E"])("van-card"),C=Object(n["E"])("BackTop");return Object(n["x"])(),Object(n["g"])("div",o,[Object(n["j"])("div",r,[Object(n["j"])(f,{modelValue:e.searchKeyword,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.searchKeyword=t}),"show-action":"",label:"书籍",placeholder:"请输入搜索关键词",background:"#42b983","input-align":"center",shape:"round",clearable:"",onClear:e.clearSearchInputContent,"clear-trigger":"always"},{action:a((function(){return[Object(n["j"])("div",{onClick:t[1]||(t[1]=function(){return e.onSearch&&e.onSearch.apply(e,arguments)})},"搜索")]})),_:1},8,["modelValue","onClear"])]),Object(n["j"])("div",i,[Object(n["j"])("div",u,[Object(n["j"])(v,{active:e.currentActiveTab,"onUpdate:active":t[3]||(t[3]=function(t){return e.currentActiveTab=t}),onClick:e.switchTab},{default:a((function(){return[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(e.tabTypes,(function(e,t,c){return Object(n["x"])(),Object(n["g"])(O,{title:e,key:c,name:t},null,8,["title","name"])})),128))]})),_:1},8,["active","onClick"])]),Object(n["j"])(T,{class:"leftmenu",modelValue:e.currentActiveSidebar,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.currentActiveSidebar=t})},{default:a((function(){return[Object(n["j"])(y,{modelValue:e.currentActiveCollapse,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.currentActiveCollapse=t}),accordion:""},{default:a((function(){return[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(e.categoryList,(function(t,c){return Object(n["x"])(),Object(n["g"])(m,{key:c,title:t.name,name:t.name},{default:a((function(){return[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(t.children,(function(t){return Object(n["x"])(),Object(n["g"])(h,{key:t.id,title:t.name,onClick:function(c){return e.getCategoryGoodsList(t.id)}},null,8,["title","onClick"])})),128))]})),_:2},1032,["title","name"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue"]),Object(n["j"])("div",l,[Object(n["j"])("div",s,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(e.goodsList,(function(t){return Object(n["x"])(),Object(n["g"])(k,{onClick:function(c){return e.$router.push({path:"/goodDetail",query:{id:t.id}})},key:t.id,num:t.comments_count,tag:t.comments_count>=0?"流行":"标签",price:t.price,desc:t.updated_at,title:t.title,thumb:t.cover_url,"lazy-load":!0},null,8,["onClick","num","tag","price","desc","title","thumb"])})),128))])]),Object(n["O"])(Object(n["j"])("div",d,[b],512),[[n["L"],!e.goodsList.length]])]),Object(n["O"])(Object(n["j"])(C,{onBackToTopClick:e.backToTop},null,8,["onBackToTopClick"]),[[n["L"],e.isShowBackToTopIcon]])])})),p=c("5530"),j=c("2909"),f=c("1da1"),O=(c("96cf"),c("229e")),v=c("0d3b"),h=c("616b"),m=c("626a"),y=c("6a2a"),T=(c("99af"),c("dbe5"));function k(){return Object(T["a"])({url:"/api/goods"})}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(T["a"])({url:"/api/goods?category_id=".concat(t,"&page=").concat(c,"&").concat(e,"=1")})}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sales",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(T["a"])({url:"/api/goods?category_id=".concat(c,"&page=").concat(n,"&").concat(t,"=1&title=").concat(e)})}O["a"].use(v["a"]).use(h["a"]);var _=Object(n["k"])({components:{BackTop:y["a"]},setup:function(){var e,t=Object(n["B"])({searchKeyword:"",tabTypes:{sales:"销量排序",price:"价格排序",comments_count:"评论排序"},currentActiveTab:"sales",currentActiveSidebar:0,currentActiveCollapse:0,currentCategoryId:0,categoryList:[],goodsData:{sales:{page:1,list:[]},price:{page:1,list:[]},comments_count:{page:1,list:[]}},isShowBackToTopIcon:!1}),c=function(e,t){var c=null;return function(){var n=!c;n&&e(),c&&clearTimeout(c),c=setTimeout((function(){c=null}),t)}},a=c((function(){t.searchKeyword,w(t.searchKeyword,t.currentActiveTab).then((function(e){t.goodsData[t.currentActiveTab].list=e.goods.data}))}),2e3),o=function(){},r=Object(n["e"])((function(){return t.goodsData[t.currentActiveTab].list})),i=function(){C("sales",t.currentCategoryId).then((function(e){t.goodsData.sales.list=e.goods.data})),C("price",t.currentCategoryId).then((function(e){t.goodsData.price.list=e.goods.data})),C("comments_count",t.currentCategoryId).then((function(e){t.goodsData.comments_count.list=e.goods.data})),k().then((function(e){t.categoryList=e.categories}))},u=function(){e=new O["a"](".better-scroll-wrapper",{probeType:3,click:!0,pullUpLoad:!0,mouseWheel:{speed:20,invert:!1,easeTime:300}}),e.on("scroll",(function(e){t.isShowBackToTopIcon=-e.y>300})),e.on("pullingUp",l)},l=function(){var c=Object(f["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:n=t.goodsData[t.currentActiveTab].page+1,C(t.currentActiveTab,t.currentCategoryId,n).then((function(e){var c;(c=t.goodsData[t.currentActiveTab].list).push.apply(c,Object(j["a"])(e.goods.data)),t.goodsData[t.currentActiveTab].page+=1})),e.finishPullUp(),e.refresh();case 5:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();Object(n["v"])((function(){m["a"].loading({message:"加载中...",forbidClick:!0}),i(),u(),m["a"].clear()}));var s=function(){Object(n["q"])((function(){e&&e.refresh()}))},d=function(c){t.currentCategoryId=c,C("sales",t.currentCategoryId).then((function(e){t.goodsData.sales.list=e.goods.data})),C("price",t.currentCategoryId).then((function(e){t.goodsData.price.list=e.goods.data})),C("comments_count",t.currentCategoryId).then((function(e){t.goodsData.comments_count.list=e.goods.data})),Object(n["q"])((function(){e&&e.refresh()}))},b=function(){e.scrollTo(0,0,500)};return Object(p["a"])(Object(p["a"])({},Object(n["J"])(t)),{},{onSearch:a,clearSearchInputContent:o,switchTab:s,getCategoryGoodsList:d,goodsList:r,backToTop:b})}});c("0d99");_.render=g,_.__scopeId="data-v-94e78508";t["default"]=_}}]);