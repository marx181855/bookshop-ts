(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce01c216"],{"0725":function(t,e,c){},"22f6":function(t,e,c){},"67b1":function(t,e,c){"use strict";c("22f6")},"720d":function(t,e,c){"use strict";c("0725")},"77b8":function(t,e,c){"use strict";c.r(e);c("fb6a");var a=c("7a23"),n=Object(a["P"])("data-v-30918c6a");Object(a["A"])("data-v-30918c6a");var o={class:"home-container"},i={key:0,class:"tab",style:{"z-index":"1",position:"fixed",left:"0",right:"0"}},r={class:"middle better-scroll-wrapper"},s={class:"content better-scroll-content"},b={ref:"bannerRef"},l={class:"swipe"},u={class:"recommend"},j={class:"tab"};Object(a["y"])();var d=n((function(t,e,c,d,O,f){var p=Object(a["E"])("van-nav-bar"),v=Object(a["E"])("van-tab"),g=Object(a["E"])("van-tabs"),T=Object(a["E"])("van-swipe-item"),m=Object(a["E"])("van-swipe"),k=Object(a["E"])("recommendGoods"),h=Object(a["E"])("goodsList"),w=Object(a["E"])("back-to-top"),y=Object(a["F"])("lazy");return Object(a["x"])(),Object(a["g"])("div",o,[Object(a["j"])(p,{title:"图书商城","left-text":"返回","left-arrow":"",onClickLeft:e[1]||(e[1]=function(e){return t.$router.go(-1)})}),t.isTabFixed?(Object(a["x"])(),Object(a["g"])("div",i,[Object(a["j"])(g,{active:t.currentActiveTab,"onUpdate:active":e[2]||(e[2]=function(e){return t.currentActiveTab=e}),onClick:t.switchTab},{default:n((function(){return[(Object(a["x"])(!0),Object(a["g"])(a["a"],null,Object(a["D"])(t.tabTypes,(function(t,e,c){return Object(a["x"])(),Object(a["g"])(v,{title:t,key:c,name:e},null,8,["title","name"])})),128))]})),_:1},8,["active","onClick"])])):Object(a["h"])("",!0),Object(a["j"])("div",r,[Object(a["j"])("div",s,[Object(a["j"])("div",b,[Object(a["j"])("div",l,[Object(a["j"])(m,{autoplay:3e3,"lazy-render":""},{default:n((function(){return[(Object(a["x"])(!0),Object(a["g"])(a["a"],null,Object(a["D"])(t.swipeData,(function(t){return Object(a["x"])(),Object(a["g"])(T,{key:t.id},{default:n((function(){return[Object(a["O"])(Object(a["j"])("img",null,null,512),[[y,t.img_url]])]})),_:2},1024)})),128))]})),_:1})]),Object(a["j"])("div",u,[Object(a["j"])(k,{list:t.recommendData.slice(0,4)},null,8,["list"])])],512),Object(a["j"])("div",j,[Object(a["j"])(g,{active:t.currentActiveTab,"onUpdate:active":e[3]||(e[3]=function(e){return t.currentActiveTab=e}),onClick:t.switchTab},{default:n((function(){return[(Object(a["x"])(!0),Object(a["g"])(a["a"],null,Object(a["D"])(t.tabTypes,(function(t,e,c){return Object(a["x"])(),Object(a["g"])(v,{title:t,key:c,name:e},null,8,["title","name"])})),128))]})),_:1},8,["active","onClick"])]),Object(a["j"])(h,{list:t.goodsList},null,8,["list"])])]),Object(a["O"])(Object(a["j"])(w,{onBackToTopClick:t.backToTop},null,8,["onBackToTopClick"]),[[a["L"],t.isShowBackToTopIcon]])])})),O=c("5530"),f=c("2909"),p=c("1da1"),v=(c("96cf"),c("d399")),g=(c("e7e5"),c("229e")),T=c("0d3b"),m=c("616b"),k=Object(a["P"])("data-v-a70f7306");Object(a["A"])("data-v-a70f7306");var h={class:"recommends"},w={alt:"图片"};Object(a["y"])();var y=k((function(t,e,c,n,o,i){var r=Object(a["F"])("lazy");return Object(a["x"])(),Object(a["g"])("div",h,[(Object(a["x"])(!0),Object(a["g"])(a["a"],null,Object(a["D"])(t.list,(function(e){return Object(a["x"])(),Object(a["g"])("div",{class:"card",key:e.id,onClick:function(c){return t.$router.push({path:"/goodDetail",query:{id:e.id}})}},[Object(a["O"])(Object(a["j"])("img",w,null,512),[[r,e.cover_url]]),Object(a["j"])("p",null,Object(a["I"])(e.title),1)],8,["onClick"])})),128))])})),D=Object(a["k"])({props:{list:{type:Array,default:function(){return[]}}},setup:function(){return{}}});c("720d");D.render=y,D.__scopeId="data-v-a70f7306";var x=D,A=c("98e3"),_=c("6a2a"),C=(c("99af"),c("dbe5"));function I(){return Object(C["a"])({url:"/api/index"})}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(C["a"])({url:"/api/index?".concat(t,"=1&page=").concat(e)})}g["a"].use(T["a"]).use(m["a"]);var L=Object(a["k"])({components:{recommendGoods:x,goodsList:A["a"],backToTop:_["a"]},setup:function(){var t,e=Object(a["C"])(null),c=Object(a["B"])({swipeData:[],recommendData:[],tabTypes:{sales:"畅销",new:"新书",recommend:"精选"},currentActiveTab:"sales",isTabFixed:!1,goodsData:{sales:{page:1,list:[]},new:{page:1,list:[]},recommend:{page:1,list:[]}},isShowBackToTopIcon:!1}),n=function(){I().then((function(t){c.swipeData=t.slides,c.recommendData=t.goods.data})),E("sales").then((function(t){c.goodsData.sales.list=t.goods.data})),E("recommend").then((function(t){c.goodsData.recommend.list=t.goods.data})),E("new").then((function(t){c.goodsData.new.list=t.goods.data}))},o=function(){t=new g["a"](".better-scroll-wrapper",{probeType:3,click:!0,pullUpLoad:!0,mouseWheel:{speed:20,invert:!1,easeTime:300}}),t.on("scroll",(function(t){c.isTabFixed=c.isShowBackToTopIcon=-t.y>e.value.offsetHeight})),t.on("pullingUp",i)},i=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=c.goodsData[c.currentActiveTab].page+1,E(c.currentActiveTab,a).then((function(t){var e;(e=c.goodsData[c.currentActiveTab].list).push.apply(e,Object(f["a"])(t.goods.data)),c.goodsData[c.currentActiveTab].page+=1,c.goodsData[c.currentActiveTab].page})),t.finishPullUp(),t.refresh();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a["v"])((function(){v["a"].loading({message:"加载中...",forbidClick:!0}),n(),o(),v["a"].clear()}));var r=Object(a["e"])((function(){return c.currentActiveTab,c.goodsData[c.currentActiveTab].list,c.goodsData[c.currentActiveTab].list})),s=function(){Object(a["q"])((function(){t&&t.refresh()}))},b=function(){t.scrollTo(0,0,500)};return Object(O["a"])(Object(O["a"])({},Object(a["J"])(c)),{},{bannerRef:e,switchTab:s,goodsList:r,backToTop:b})}});c("67b1");L.render=d,L.__scopeId="data-v-30918c6a";e["default"]=L},"98e3":function(t,e,c){"use strict";var a=c("7a23"),n=Object(a["P"])("data-v-4c34de46");Object(a["A"])("data-v-4c34de46");var o={class:"good-list"},i={alt:"图片"},r={class:"title"},s={class:"price"},b={class:"collect"};Object(a["y"])();var l=n((function(t,e,c,n,l,u){var j=Object(a["E"])("van-icon"),d=Object(a["F"])("lazy");return Object(a["x"])(),Object(a["g"])("div",o,[(Object(a["x"])(!0),Object(a["g"])(a["a"],null,Object(a["D"])(t.list,(function(e){return Object(a["x"])(),Object(a["g"])("div",{class:"card",key:e.id,onClick:function(c){return t.goToDetailPage(e.id)}},[Object(a["O"])(Object(a["j"])("img",i,null,512),[[d,e.cover_url]]),Object(a["j"])("div",r,Object(a["I"])(e.title),1),Object(a["j"])("span",s,"￥"+Object(a["I"])(e.price),1),Object(a["j"])("span",b,[Object(a["j"])(j,{name:"star-o"}),Object(a["i"])(Object(a["I"])(e.collects_count),1)])],8,["onClick"])})),128))])})),u=c("6c02"),j=Object(a["k"])({props:{list:{type:Array,default:function(){return[]}}},setup:function(){var t=Object(u["d"])(),e=Object(u["c"])(),c=function(c){e.fullPath,t.push({path:"/goodDetail",query:{id:c}})};return{goToDetailPage:c}}});c("b1b5");j.render=l,j.__scopeId="data-v-4c34de46";e["a"]=j},b1b5:function(t,e,c){"use strict";c("cf46")},cf46:function(t,e,c){}}]);